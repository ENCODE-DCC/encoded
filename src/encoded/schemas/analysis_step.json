{ 
    "title": "Analysis step",
    "description": "Schema for submitting a computational analysis steps as a subobject of pipeline that transforms input files to output files.",
    "id": "/profiles/analysis_step.json",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "required": ["step_label", "title", "analysis_step_types", "input_file_types", "major_version"],
    "additionalProperties": false,
    "identifyingProperties": ["uuid", "aliases", "name-major_version"],
    "mixinProperties": [
        { "$ref": "mixins.json#/schema_version" },
        { "$ref": "mixins.json#/aliases" },
        { "$ref": "mixins.json#/uuid" },
        { "$ref": "mixins.json#/standard_status" },
        { "$ref": "mixins.json#/submitted"},
        { "$ref": "mixins.json#/documents" },
        { "$ref": "mixins.json#/notes"}
    ],
    "properties": {
        "schema_version": {
            "default": "17"
        },
        "step_label": {
            "title": "Step label",
            "description": "Unique label of the analysis step using a naming system where the pipeline, software used, the purpose is described, e.g. rampage-grit-peak-calling-step",
            "comment": "Unique for each parent analysis_step, do not include version number in the label, it will be calculated.",
            "type": "string",
            "pattern": "^[a-z0-9-]+-step$"
        },
        "title": {
            "title": "Title",
            "description": "The preferred viewable name of the analysis step, likely the same as the name.",
            "type": "string",
            "pattern": "^[a-zA-Z\\d_().,-]+(?:\\s[a-zA-Z\\d_().,-]+)*[step|Step]$"
        },
        "major_version": {
            "title": "Major version",
            "description": "The major version of the analysis step.",
            "comment": "Please increment as whole numbers starting from 1.",
            "type": "integer",
            "minimum": 1
        },
        "analysis_step_types": {
            "title": "Analysis step types",
             "description": "The classification of the software",
             "type": "array",
             "uniqueItems": true,
             "items": {
                 "title": "Type",
                 "type": "string",
                 "enum": [
                     "alignment",
                     "barcodes mapping generation",
                     "candidate cis-regulatory element identification",
                     "cell type annotation",
                     "chromatin loop identification",
                     "classification",
                     "contact domain identification",
                     "contribution score calculation",
                     "depth normalization",
                     "element gene link prediction",
                     "enrichment",
                     "fastq concatenation",
                     "fastq demultiplexing",
                     "file format conversion",
                     "filtering",
                     "genome compartment identification",
                     "genome indexing",
                     "genome segmentation",
                     "genotyping",
                     "gRNA generation",
                     "IDR",
                     "interaction calling",
                     "long-read sequencing error correction",
                     "merging",
                     "methylation estimation",
                     "model generation",
                     "open chromatin region identification",
                     "partition concordance",
                     "personalized genome assembly",
                     "pseudoalignment based quantification",
                     "pseudoreplicated IDR",
                     "peak calling",
                     "pooling",
                     "QA calculation",
                     "quantification",
                     "ranking",
                     "read trimming",
                     "replicate concordance",
                     "representative peak selection",
                     "selection",
                     "sequence motif prediction",
                     "signal generation",
                     "signal normalization",
                     "smoothing",
                     "splice junction extraction",
                     "subsampling",
                     "transcript identification",
                     "transcriptome annotation",
                     "transcriptome assembly",
                     "unreplicated IDR",
                     "variant annotation"
                 ]
             }
        },
        "input_file_types": {
            "title": "Input file types",
            "description": "The file types used as input for the analysis.",
            "type": "array",
            "uniqueItems": true,
            "items": {
                "title": "Input file type",
                "description": "A file type used as input for the analysis.",
                "type": "string",
                "enum": [
                    "3D structure",
                    "alignments",
                    "allele-specific contact matrix",
                    "allele-specific variants",
                    "archr project",
                    "bed",
                    "bias models",
                    "bias-corrected predicted signal profile",
                    "bidirectional peaks",
                    "bigInteract",
                    "candidate Cis-Regulatory Elements",
                    "candidate enhancers",
                    "candidate promoters",
                    "capture targets",
                    "cell coordinates",
                    "cell type annotations",
                    "cell type data",
                    "contact matrix",
                    "chromatin stripes",
                    "chromosomes reference",
                    "chromosome sizes",
                    "consensus DNase hypersensitivity sites",
                    "conservative IDR thresholded peaks",
                    "contact domains",
                    "control normalized signal",
                    "counts sequence contribution scores",
                    "curated binding sites",
                    "curated SNVs",
                    "CpG sites coverage",
                    "depth normalized signals matrix",
                    "fold over change matrix",
                    "DHS peaks",
                    "DHS regions reference",
                    "DNN-MPRA contribution scores",
                    "DNN-MPRA predicted signal",
                    "differential expression quantifications",
                    "differential splicing quantifications",
                    "diploid personal genome alignments",
                    "dsQTLs",
                    "element barcode mapping",
                    "element gene interactions p-value",
                    "element gene interactions signal",
                    "element gene links",
                    "element quantifications",
                    "elements reference",
                    "enhancer prediction model",
                    "enhancer validation",
                    "enhancers reference",
                    "enhancer-gene links",
                    "enrichment",
                    "eQTLs",
                    "exon quantifications",
                    "exclusion list regions",
                    "FDR cut rate",
                    "female genome index",
                    "female genome reference",
                    "filtered indels",
                    "filtered peaks",
                    "filtered reads",
                    "filtered regions",
                    "filtered SNPs",
                    "fine-mapped variants",
                    "fold change over control",
                    "footprints",
                    "fragments",
                    "functional conservation mapping",
                    "functional conservation quantifications",
                    "gene alignments",
                    "gene quantifications",
                    "gene stabilities",
                    "genic features quantifications",
                    "genome compartments",
                    "genome index",
                    "genome reference",
                    "genome subcompartments",
                    "gRNAs",
                    "guide locations",
                    "guide quantifications",
                    "haplotype-specific alignments",
                    "haplotype-specific contact matrix",
                    "haplotype-specific nuclease cleavage corrected frequency",
                    "haplotype-specific nuclease cleavage frequency",
                    "hotspots",
                    "hotspots1 reference",
                    "hotspots2 reference",
                    "idat green channel",
                    "idat red channel",
                    "inclusion list",
                    "intensity values",
                    "IDR ranked peaks",
                    "IDR thresholded peaks",
                    "index reads",
                    "kmer weights",
                    "library fraction",
                    "loops",
                    "male genome index",
                    "male genome reference",
                    "mapping quality thresholded contact matrix",
                    "maternal haplotype mapping",
                    "maternal variant calls",
                    "methylation state at CHG",
                    "methylation state at CHH",
                    "methylation state at CpG",
                    "merged transcription segment quantifications",
                    "microRNA quantifications",
                    "minus strand end position signal",
                    "minus strand methylation state at CpG",
                    "minus strand normalized end position signal",
                    "minus strand signal of all reads",
                    "minus strand signal of unique reads",
                    "miRNA annotations",
                    "miRNA reference",
                    "mitochondrial exclusion list regions",
                    "mitochondrial genome index",
                    "mitochondrial genome reference",
                    "model performance metrics",
                    "models",
                    "motif model",
                    "nanopore signal",
                    "negative control regions",
                    "nested contact domains",
                    "non-targeting gRNAs",
                    "normalized bias-corrected predicted signal profile",
                    "normalized signal of all reads",
                    "normalized observed signal profile",
                    "normalized observed signal profile (minus strand)",
                    "normalized observed signal profile (plus strand)",
                    "normalized predicted bias profile",
                    "normalized predicted signal profile",
                    "normalized predicted signal profile (minus strand)",
                    "normalized predicted signal profile (plus strand)",
                    "novel peptides",
                    "nuclease cleavage frequency",
                    "observed bias profile",
                    "observed control profile (minus strand)",
                    "observed control profile (plus strand)",
                    "observed signal profile",
                    "observed signal profile (minus strand)",
                    "observed signal profile (plus strand)",
                    "open chromatin regions",
                    "optimal IDR thresholded peaks",
                    "pairs",
                    "paternal haplotype mapping",
                    "paternal variant calls",
                    "peaks",
                    "peaks and background as input for IDR",
                    "peptide quantifications",
                    "personalized genome assembly",
                    "perturbation signal",
                    "phased mapping",
                    "phased variant calls",
                    "plus strand end position signal",
                    "plus strand methylation state at CpG",
                    "plus strand normalized end position signal",
                    "plus strand signal of all reads",
                    "plus strand signal of unique reads",
                    "polyA sites",
                    "positive control regions",
                    "predicted bias profile",
                    "predicted enhancers",
                    "predicted forebrain enhancers",
                    "predicted heart enhancers",
                    "predicted signal profile",
                    "predicted signal profile (minus strand)",
                    "predicted signal profile (plus strand)",
                    "predicted transcription start sites",
                    "predicted whole brain enhancers",
                    "predicted 3D structural ensembles",
                    "preprocessed alignments",
                    "profile sequence contribution scores",
                    "promoter prediction model",
                    "promoters reference",
                    "protein expression quantifications",
                    "pseudoreplicated peaks",
                    "pseudoreplicated IDR thresholded peaks",
                    "PWMs",
                    "R2C2 subreads",
                    "ranked gRNAs",
                    "raw data",
                    "raw imaging signal",
                    "raw minus strand signal",
                    "raw normalized signal",
                    "raw plus strand signal",
                    "raw signal",
                    "read-depth normalized signal",
                    "read annotations",
                    "reads",
                    "redacted alignments",
                    "redacted transcriptome alignments",
                    "repeat elements annotation",
                    "reference genes",
                    "reference variants",
                    "regulatory elements",
                    "regulatory elements prediction model",
                    "relative replication signal",
                    "replicated peaks",
                    "replication timing profile",
                    "reporter code counts",
                    "representative DNase hypersensitivity sites",
                    "representative IDR thresholded peaks",
                    "RNA-binding protein associated mRNAs",
                    "rRNA reference",
                    "safe-targeting gRNAs",
                    "semi-automated genome annotation",
                    "selected regions for bias-corrected predicted signal profile",
                    "selected regions for count sequence contribution scores",
                    "selected regions for predicted bias profile",
                    "selected regions for predicted signal and sequence contribution scores",
                    "selected regions for predicted signal profile",
                    "selected regions for predicted signal profile (minus strand)",
                    "selected regions for predicted signal profile (plus strand)",
                    "selected regions for profile sequence contribution scores",
                    "sequence adapters",
                    "sequence alignability",
                    "sequence barcodes",
                    "sequence motifs",
                    "sequence motifs instances",
                    "sequence motifs report",
                    "signal of all reads",
                    "signal of unique reads",
                    "signal p-value",
                    "smoothed methylation state at CpG",
                    "snRNA reference",
                    "sparse gene count matrix",
                    "sparse gene count matrix of all reads",
                    "sparse gene count matrix of unique reads",
                    "sparse gRNA count matrix",
                    "sparse peak count matrix",
                    "sparse transcript count matrix",
                    "spike-ins",
                    "splice junctions",
                    "subreads",
                    "TF binding prediction model",
                    "TF peaks matrix",
                    "thresholded element gene links",
                    "thresholded links",
                    "training and test regions",
                    "training set",
                    "transcriptome annotations",
                    "transcribed region quantifications",
                    "transcription segment quantifications",
                    "transcript quantifications",
                    "transcription start sites",
                    "transcriptome alignments",
                    "transcriptome index",
                    "transcriptome reference",
                    "tRNA reference",
                    "TSS reference",
                    "unfiltered alignments",
                    "unfiltered sparse gene count matrix of all reads",
                    "unfiltered sparse gene count matrix of unique reads",
                    "unfiltered sparse splice junction count matrix of unique reads",
                    "unidirectional peaks",
                    "UV enriched segment quantifications",
                    "variant calls",
                    "variant effect quantifications",
                    "variants contact matrix",
                    "z scores matrix"
                ]
            }
        },
        "output_file_types": {
            "title": "Output file types",
            "description": "The file types generated as output for the analysis.",
            "type": "array",
            "uniqueItems": true,
            "items": {
                "title": "Output file type",
                "description": "A file type generated as output for the analysis.",
                "type": "string",
                "enum": [
                    "3D structure",
                    "alignments",
                    "allele-specific contact matrix",
                    "allele-specific variants",
                    "archr project",
                    "bias models",
                    "bias-corrected predicted signal profile",
                    "bidirectional peaks",
                    "bigBed",
                    "bigInteract",
                    "candidate Cis-Regulatory Elements",
                    "candidate enhancers",
                    "candidate promoters",
                    "capture targets",
                    "cell coordinates",
                    "cell type annotations",
                    "cell type data",
                    "contact matrix",
                    "chromatin stripes",
                    "chromosomes reference",
                    "chromosome sizes",
                    "consensus DNase hypersensitivity sites",
                    "conservative IDR thresholded peaks",
                    "contact domains",
                    "control normalized signal",
                    "counts sequence contribution scores",
                    "curated binding sites",
                    "curated SNVs",
                    "CpG sites coverage",
                    "depth normalized signals matrix",
                    "fold over change matrix",
                    "DHS peaks",
                    "DHS regions reference",
                    "DNN-MPRA contribution scores",
                    "DNN-MPRA predicted signal",
                    "differential expression quantifications",
                    "differential splicing quantifications",
                    "diploid personal genome alignments",
                    "dsQTLs",
                    "element barcode mapping",
                    "element gene interactions p-value",
                    "element gene interactions signal",
                    "element gene links",
                    "element quantifications",
                    "elements reference",
                    "enhancer prediction model",
                    "enhancer validation",
                    "enhancers reference",
                    "enhancer-gene links",
                    "enrichment",
                    "eQTLs",
                    "exon quantifications",
                    "exclusion list regions",
                    "FDR cut rate",
                    "female genome index",
                    "female genome reference",
                    "filtered indels",
                    "filtered peaks",
                    "filtered reads",
                    "filtered regions",
                    "filtered SNPs",
                    "fine-mapped variants",
                    "fold change over control",
                    "footprints",
                    "fragments",
                    "functional conservation mapping",
                    "functional conservation quantifications",
                    "gene alignments",
                    "gene quantifications",
                    "genome compartments",
                    "genome index",
                    "genome reference",
                    "genome subcompartments",
                    "gene stabilities",
                    "genic features quantifications",
                    "gRNAs",
                    "guide locations",
                    "guide quantifications",
                    "haplotype-specific alignments",
                    "haplotype-specific contact matrix",
                    "haplotype-specific nuclease cleavage corrected frequency",
                    "haplotype-specific nuclease cleavage frequency",
                    "hotspots",
                    "hotspots1 reference",
                    "hotspots2 reference",
                    "idat green channel",
                    "idat red channel",
                    "inclusion list",
                    "intensity values",
                    "IDR ranked peaks",
                    "IDR thresholded peaks",
                    "kmer weights",
                    "library fraction",
                    "loops",
                    "male genome index",
                    "male genome reference",
                    "mapping quality thresholded contact matrix",
                    "maternal haplotype mapping",
                    "maternal variant calls",
                    "methylation state at CHG",
                    "methylation state at CHH",
                    "methylation state at CpG",
                    "merged transcription segment quantifications",
                    "microRNA quantifications",
                    "minus strand end position signal",
                    "minus strand normalized end position signal",
                    "minus strand methylation state at CpG",
                    "minus strand signal of all reads",
                    "minus strand signal of unique reads",
                    "miRNA annotations",
                    "miRNA reference",
                    "mitochondrial exclusion list regions",
                    "mitochondrial genome index",
                    "mitochondrial genome reference",
                    "model performance metrics",
                    "models",
                    "motif model",
                    "negative control regions",
                    "nested contact domains",
                    "non-targeting gRNAs",
                    "normalized bias-corrected predicted signal profile",
                    "normalized signal of all reads",
                    "normalized observed signal profile",
                    "normalized observed signal profile (minus strand)",
                    "normalized observed signal profile (plus strand)",
                    "normalized predicted bias profile",
                    "normalized predicted signal profile",
                    "normalized predicted signal profile (minus strand)",
                    "normalized predicted signal profile (plus strand)",
                    "novel peptides",
                    "nuclease cleavage frequency",
                    "observed bias profile",
                    "observed control profile (minus strand)",
                    "observed control profile (plus strand)",
                    "observed signal profile",
                    "observed signal profile (minus strand)",
                    "observed signal profile (plus strand)",
                    "open chromatin regions",
                    "optimal IDR thresholded peaks",
                    "pairs",
                    "paternal haplotype mapping",
                    "paternal variant calls",
                    "peaks",
                    "peaks and background as input for IDR",
                    "peptide quantifications",
                    "personalized genome assembly",
                    "perturbation signal",
                    "phased mapping",
                    "phased variant calls",
                    "plus strand end position signal",
                    "plus strand methylation state at CpG",
                    "plus strand normalized end position signal",
                    "plus strand signal of all reads",
                    "plus strand signal of unique reads",
                    "polyA sites",
                    "positive control regions",
                    "predicted bias profile",
                    "predicted enhancers",
                    "predicted forebrain enhancers",
                    "predicted heart enhancers",
                    "predicted signal profile",
                    "predicted signal profile (minus strand)",
                    "predicted signal profile (plus strand)",
                    "predicted transcription start sites",
                    "predicted whole brain enhancers",
                    "predicted 3D structural ensembles",
                    "preprocessed alignments",
                    "profile sequence contribution scores",
                    "promoter prediction model",
                    "promoters reference",
                    "protein expression quantifications",
                    "pseudoreplicated peaks",
                    "pseudoreplicated IDR thresholded peaks",
                    "PWMs",
                    "R2C2 subreads",
                    "ranked gRNAs",
                    "raw imaging signal",
                    "raw minus strand signal",
                    "raw normalized signal",
                    "raw plus strand signal",
                    "raw signal",
                    "read-depth normalized signal",
                    "read annotations",
                    "reads",
                    "redacted alignments",
                    "redacted transcriptome alignments",
                    "repeat elements annotation",
                    "reference genes",
                    "reference variants",
                    "regulatory elements",
                    "regulatory elements prediction model",
                    "relative replication signal",
                    "replicated peaks",
                    "replication timing profile",
                    "reporter code counts",
                    "representative DNase hypersensitivity sites",
                    "representative IDR thresholded peaks",
                    "RNA-binding protein associated mRNAs",
                    "rRNA reference",
                    "safe-targeting gRNAs",
                    "semi-automated genome annotation",
                    "selected regions for bias-corrected predicted signal profile",
                    "selected regions for count sequence contribution scores",
                    "selected regions for predicted bias profile",
                    "selected regions for predicted signal and sequence contribution scores",
                    "selected regions for predicted signal profile",
                    "selected regions for predicted signal profile (minus strand)",
                    "selected regions for predicted signal profile (plus strand)",
                    "selected regions for profile sequence contribution scores",
                    "sequence adapters",
                    "sequence alignability",
                    "sequence barcodes",
                    "sequence motifs",
                    "sequence motifs instances",
                    "sequence motifs report",
                    "signal of all reads",
                    "signal of unique reads",
                    "signal p-value",
                    "smoothed methylation state at CpG",
                    "snRNA reference",
                    "sparse gene count matrix",
                    "sparse gene count matrix of all reads",
                    "sparse gene count matrix of unique reads",
                    "sparse gRNA count matrix",
                    "sparse peak count matrix",
                    "sparse transcript count matrix",
                    "spike-ins",
                    "splice junctions",
                    "subreads",
                    "TF binding prediction model",
                    "TF peaks matrix",
                    "thresholded element gene links",
                    "thresholded links",
                    "training and test regions",
                    "training set",
                    "transcriptome annotations",
                    "transcript quantifications",
                    "transcription start sites",
                    "transcribed region quantifications",
                    "transcription segment quantifications",
                    "transcriptome alignments",
                    "transcriptome index",
                    "transcriptome reference",
                    "tRNA reference",
                    "TSS reference",
                    "unfiltered alignments",
                    "unfiltered sparse gene count matrix of all reads",
                    "unfiltered sparse gene count matrix of unique reads",
                    "unfiltered sparse splice junction count matrix of unique reads",
                    "unidirectional peaks",
                    "UV enriched segment quantifications",
                    "variant calls",
                    "variant effect quantifications",
                    "variants contact matrix",
                    "z scores matrix"
                ]
            }
        },
        "qa_stats_generated": {
            "title": "QA statistics",
            "description": "The QA statistics generated by the analysis.",
            "type": "array",
            "uniqueItems": true,
            "items": {
                "title": "QA statistic",
                "description": "A QA statistic generated by the analysis.",
                "type": "string"
            }
        },
        "parents": {
            "title": "Parents",
            "description": "The precursor steps.",
            "uniqueItems": true,
            "type": "array",
            "items": {
                "description": "A precusor step.",
                "comment": "See analysis_step.json for available identifiers.",
                "type": "string",
                "linkTo": "AnalysisStep"
            }
        }
    },
    "facets": {
        "status": {
            "title": "Status"
        }
    },
    "changelog": "/profiles/changelogs/analysis_step.md"
}
