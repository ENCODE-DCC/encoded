{
    "title": "Bio-library",
    "description": "Schema for submitting a molecular library.",
    "id": "/profiles/library.json",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "required": [ "internal_ID", "donor", "biosample", "nucleic_acid_term_name"],
    "identifyingProperties": ["uuid","accession", "aliases"],
    "additionalProperties": false,
    "mixinProperties": [
        { "$ref": "mixins.json#/schema_version" },
        { "$ref": "mixins.json#/uuid" },
        { "$ref": "mixins.json#/accession" },
        { "$ref": "mixins.json#/attribution" },
        { "$ref": "mixins.json#/accessioned_status" },
        { "$ref": "mixins.json#/submitted" }
 
    ],
    "facets": {
        "status": {
            "title": "Status"
        }
    },
    "dependencies": {
        "nucleic_acid_quantity_units": ["nucleic_acid_starting_quantity"],
        "nucleic_acid_quantity": ["nucleic_acid_starting_quantity_units"]
    },
    "properties": {
        "schema_version": {
            "default": "1"
        },
        "accession": {
            "accessionType": "LB"
        },
        "internal_ID": {
            "title": "Internal ID",
            "description": "ID used internally to identify this biospecimen.",
            "comment": "Only admins are allowed to set or update this value.",
            "type": "string"
        },
        "donor": {
            "title": "Donor",
            "description": "The patient the biospecimen was originated from.",
            "comment": "See patient.json for available identifiers.",
            "type": "string",
            "linkTo": "Patient"
        },
        "biosample": {
            "title": "biospecimen",
            "description": "The biospecimen that nucleic acid was isolated from to generate the library.",
            "comment": "See biospecimen.json for available identifiers.",
            "type": "string",
            "linkTo": "biospecimen"
        },
        "type_of_analysis": {
            "title": "Type of analysis",
            "description": "The biospecimen that nucleic acid was isolated from to generate the library.",
            "comment": "See biospecimen.json for available identifiers.",
            "type": "string",
            "enum": [
                "Exome",
                "Targted Sequencing",
                "WES",
                "WGS",
                "RNAseq",
                "Nanostring Gene Panel"
            ]
        },

        "nucleic_acid_term_name": {
            "title": "Library material",
            "description": "SO (Sequence Ontology) term best matching the molecule isolated to generate the library (e.g. 'RNA' for a total RNA library, even if that library is subsequently reverse transcribed for DNA sequencing.)",
            "type": "string",
            "enum": [
                "DNA",
                "miRNA",
                "polyadenylated mRNA",
                "protein",
                "RNA"
            ]
        },
        "260/280": {

        },
        "260/230": {

        },
        "nucleic_acid_concentration": {

        },

        "nucleic_acid_quantity": {
            "title": "Nucleic acid starting quantity",
            "description": "The starting amount of nucleic acid before selection and purification.",
            "type": "string",
            "pattern": "[0-9]+"
        },
        "nucleic_acid_quantity_units": {
            "title": "Nucleic acid starting quantity units",
            "description": "The units used for starting amount of nucleic acid.",
            "type": "string",
            "enum": [
                "cell-equivalent",
                "cells",
                "mg",
                "ng",
                "pg",
                "Âµg"
            ]
        },
 
        "date_sent":{
            "title": "Date sent",
            "description": "The date that the nucleic acid was sent for sequencing.",
            "type": "string",
            "format": "date"            
        },
        "sequencing_ID": {
            "title": "Sequecing ID",
            "description": "Sequecing ID from the company.",
            "type": "string"
        },
        "company": {
            "title": "Company name",
            "description": "The name of the Company that is resposible for the sequencing",
            "type": "string"
        },
        "sequencing_system": {
            "title": "Name of sequencing system",
            "description": "The sequencing system used to construct the library.",
            "type": "string"
        },
        "gene_expression_platform": {
            "title": "Gene expression platform",
            "type": "string"
        },
        "SNP_array_platform": {
            "title": "SNP array platform",
            "type": "string"
        },
        "published": {
            "title": "Is it published?",
            "type": "string" ,
            "enum": [
                "yes",
                "no"
            ]
        },
        "publication_link": {
            "title": "Publication link",
            "type": "string"
        },
        "cnv_file_path": {
            "title": "CNV file path",
            "type": "string"
        },
        "exome_coverage_normal": {
            "title": "Exome coverage for normal",
            "type": "string"
        },
        "exome_coverage_tumor": {
            "title": "Exome coverage for tumor",
            "type": "string"
        },
        "expression_file_path": {
            "title": "Expression file path",
            "type": "string"
        },
        "matched_mutation_file_path": {
            "title": "Matched mutation file path",
            "type": "string"
        },
        "unmatched_mutation_file_path": {
            "title": "Unmatched mutation file path",
            "type": "string"
        },
        "fastq_file_path": {
            "title": "FASTQ file path",
            "type": "string"
        }


    },

    "boost_values": {
        "accession": 1.0,
        "internal_ID": 1.0,
        "biospecimen.accession": 1.0,
        "patient.accession": 1.0

    },
    "changelog": "/profiles/changelogs/biolibrary.md"
}
